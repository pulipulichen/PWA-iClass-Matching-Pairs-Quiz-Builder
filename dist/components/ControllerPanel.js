(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{62:function(t,e,n){var r=n(92),o=("string"==typeof r&&(r=[[t.i,r,""]]),{});o.insert="head",o.singleton=!1,n(9)(r,o);r.locals&&(t.exports=r.locals)},63:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"TEST_MESSAGE":"Test Message"},"zh-TW":{"TEST_MESSAGE":"測試訊息"}}'),delete t.options._Ctor}},87:function(t,e,n){var r=n(88),o=n(89),i=n(90);t.exports=function(t){return r(t)||o(t)||i()}},88:function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},89:function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},90:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},91:function(t,e,n){"use strict";var r=n(62);n.n(r).a},92:function(t,e,n){(t.exports=n(8)(!0)).push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"ControllerPanel.less?vue&type=style&index=0&id=1de0163e&lang=less&scoped=true&"}])},93:function(t,e,n){"use strict";var r=n(63);e.default=n.n(r).a},95:function(t,e,n){"use strict";n.r(e);function r(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"ControllerPanel ui equal width grid"},[e("div",{staticClass:"column"},[e("select",{directives:[{name:"model",rawName:"v-model",value:n.db.localConfig.selectExample,expression:"db.localConfig.selectExample"}],on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});n.$set(n.db.localConfig,"selectExample",t.target.multiple?e:e[0])}}},n._l(n.examples,function(t){return e("option",{domProps:{value:t.key}},[n._v(n._s(n.$t(t.key)))])}),0)]),n._v(" "),e("div",{staticClass:"column"},[e("button",{staticClass:"ui fluid button",class:{disabled:n.db.localConfig.inputText.trim()===n.currentExample},attrs:{type:"button"},on:{click:n.setExample}},[n._v("\n      "+n._s(n.$t("Set Example"))+"\n    ")])]),n._v(" "),e("div",{staticClass:"column"},[e("button",{staticClass:"ui fluid button",class:n.computedStyleDownloadButton,attrs:{type:"button"},on:{click:n.downloadTemplate}},[n._v("\n      "+n._s(n.$t("Download"))+"\n    ")])]),n._v(" "),e("div",{staticClass:"column"},[e("button",{staticClass:"ui fluid button",attrs:{type:"button"},on:{click:n.copyScoringScript}},[n._v("\n      "+n._s(n.$t("Copy Scoring Script"))+"\n    ")])]),n._v(" "),e("div",{staticClass:"column"},[e("a",{staticClass:"ui fluid button",attrs:{href:"https://docs.google.com/document/d/e/2PACX-1vSTFshrL1X-mlsz3vwXApS-gHhaZS4R8wSIewfYV95VyQFSDLMndMk6poW5VlF8gCsfaQsRpSCNubCB/pub",target:"score-help"}},[n._v("\n      "+n._s(n.$t("How to Use the Script"))+"\n    ")])])])}r._withStripped=!0;var o=n(1),C=n.n(o),o=n(87),c=n.n(o),o=n(0);function S(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */S=function(){return a};var a={},t=Object.prototype,s=t.hasOwnProperty,l=Object.defineProperty||function(t,e,n){t[e]=n.value},e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function i(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{i({},"")}catch(t){i=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o,i,a,c,e=e&&e.prototype instanceof f?e:f,e=Object.create(e.prototype),r=new w(r||[]);return l(e,"_invoke",{value:(o=t,i=n,a=r,c="suspendedStart",function(t,e){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===t)throw e;return _()}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){n=function t(e,n){var r=n.method,o=e.iterator[r];if(void 0===o)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;r=u(o,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,p;o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}(n,a);if(n){if(n===p)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===c)throw c="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);c="executing";n=u(o,i,a);if("normal"===n.type){if(c=a.done?"completed":"suspendedYield",n.arg===p)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(c="completed",a.method="throw",a.arg=n.arg)}})}),e}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}a.wrap=c;var p={};function f(){}function h(){}function d(){}var e={},g=(i(e,r,function(){return this}),Object.getPrototypeOf),g=g&&g(g(E([]))),m=(g&&g!==t&&s.call(g,r)&&(e=g),d.prototype=f.prototype=Object.create(e));function v(t){["next","throw","return"].forEach(function(e){i(t,e,function(t){return this._invoke(e,t)})})}function y(a,c){var e;l(this,"_invoke",{value:function(n,r){function t(){return new c(function(t,e){!function e(t,n,r,o){var i,t=u(a[t],a,n);if("throw"!==t.type)return(n=(i=t.arg).value)&&"object"==C()(n)&&s.call(n,"__await")?c.resolve(n.__await).then(function(t){e("next",t,r,o)},function(t){e("throw",t,r,o)}):c.resolve(n).then(function(t){i.value=t,r(i)},function(t){return e("throw",t,r,o)});o(t.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}})}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function E(e){if(e){var n,t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(t=function t(){for(;++n<e.length;)if(s.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t}).next=t}return{next:_}}function _(){return{value:void 0,done:!0}}return l(m,"constructor",{value:h.prototype=d,configurable:!0}),l(d,"constructor",{value:h,configurable:!0}),h.displayName=i(d,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,i(t,o,"GeneratorFunction")),t.prototype=Object.create(m),t},a.awrap=function(t){return{__await:t}},v(y.prototype),i(y.prototype,n,function(){return this}),a.AsyncIterator=y,a.async=function(t,e,n,r,o){void 0===o&&(o=Promise);var i=new y(c(t,e,n,r),o);return a.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},v(m),i(m,o,"Generator"),i(m,r,function(){return this}),i(m,"toString",function(){return"[object Generator]"}),a.keys=function(t){var e,n=Object(t),r=[];for(e in n)r.push(e);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=E,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&s.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return i.type="throw",i.arg=n,r.next=t,e&&(r.method="next",r.arg=void 0),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),c=s.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&s.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,o=this.tryEntries[e];if(o.tryLoc===t)return"throw"===(n=o.completion).type&&(r=n.arg,b(o)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},a}var i,o={props:["db"],components:{},data:function(){return this.$i18n.locale=this.db.localConfig.locale,{AToZ:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"}},watch:{"db.localConfig.locale":function(){this.$i18n.locale=this.db.localConfig.locale}},computed:{computedStyleDownloadButton:function(){var t=[];return""===this.db.localConfig.inputText.trim()?t.push("disabled"):this.db.localConfig.inputText!==this.db.config.inputTextExample&&""!==this.db.localConfig.inputText.trim()&&t.push("positive"),t},examples:function(){var e=this;return Object.keys(this.db.config.inputTextExamples).map(function(t){return{key:t,text:e.db.config.inputTextExamples[t]}})},currentExample:function(){return this.db.config.inputTextExamples[this.db.localConfig.selectExample]}},mounted:function(){""===this.db.localConfig.inputText&&this.setExample()},methods:{setExample:function(){this.db.localConfig.inputText=this.currentExample},copyScoringScript:(i=n.n(o)()(S().mark(function t(){var e;return S().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.db.utils.AxiosUtils.get("./assets/scroing-script.js");case 2:e=t.sent,this.db.utils.ClipboardUtils.copyPlainString(e);case 4:case"end":return t.stop()}},t,this)})),function(){return i.apply(this,arguments)}),downloadTemplate:function(){var t=this.parseQuizGroupArray();this.db.utils.FileUtils.downloadZippedXLS(this.getFilename(),t)},getFilename:function(){for(var t=this.getPairsGroup(),e="",n=0;n<t.length;n++)for(var r=0;r<t[n].length&&!(15<e.length);r++)""!==e&&(e+=","),e+=t[n][r][0];return"quiz-"+e+"-"+(new Date).mmddhhmm()},getCode:function(t){return t%=this.AToZ.length,this.AToZ[t]},escapeHTML:function(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")},getPairsGroup:function(){var a=this;return this.db.localConfig.inputText.trim().split("\n").map(function(t){return t=t.trim(),2<(t=a.escapeHTML(t)).split("\t").length&&(t+="\n"),t}).join("\n").trim().split("\n\n").map(function(t,e){for(var i=[],n=t.trim().split("\n").map(function(t,e){var n,r,o=t.indexOf("\t");return-1<o?(n=t.slice(0,o).trim(),o=-1===(o=t.slice(o).trim()).indexOf("\t")?a.parseRichDescription(o):(r=o.slice(0,o.indexOf("\t")),(r=a.parseRichDescription(r))+o.slice(o.indexOf("\t"))),-1===i.indexOf(n)&&i.push(n),[n,o]):(-1===i.indexOf(e)&&i.push(e),[e,t.trim()])}),r=0;r<n.length;r++){var o=n[r][0],o=i.indexOf(o);n[r].push(a.getCode(o))}return n})},parseRichDescription:function(t){var e=!1;return t=(t=t.trim()).split(" ").map(function(t){return(t=t.trim()).startsWith("https://blogger.googleusercontent.com/img/")||t.startsWith("https://")&&(-1<t.indexOf(".png ")||-1<t.indexOf(".jpg ")||-1<t.indexOf(".jpeg ")||-1<t.indexOf(".gif "))?(e=!0,'<p><a href="'.concat(t,'" target="_blank"><img src="').concat(t,'" style="width:100%; height: auto;" /></a></p>')):t}).map(function(t){return t=!e||t.startsWith("<p>")||t.endsWith("</p>")?t:"<p>".concat(t,"</p>")}).join(" ")},parseQuizGroupArray:function(){for(var o=this,t=this.getPairsGroup(),i=(console.log(t),[]),a=0,e=(t.forEach(function(t){var e,n,r;1<t.length?(e=[],t.forEach(function(t){t=t[0].trim();-1===e.indexOf(t)&&e.push(t)}),r=o.db.utils.DataUtils.shuffleArray(t),console.log(r),a<e.length&&(a=e.length),r.forEach(function(t){i.push(["單選題",t[1],"中",t[2],""].concat(e))})):(r=t[0][0].trim(),n=(t=t[0][1].split("\t").map(function(t){return t.trim()}))[0],t=t.slice(1),r=o.getCode(t.indexOf(r)),t.length>a&&(a=t.length),i.push(["單選題",n,"中",r,""].concat(c()(t))))}),[]),n=0;n<a;n++)e.push(this.getCode(n));t=[["注意事項：\n1.製作工具：https://pulipulichen.github.io/PWA-iClass-Matching-Pairs-Quiz-Builder/\n2.當前可以批量匯入的題目類型有：單選題，複選題，是非題三種。請嚴格按照這些專有名詞來填寫。\n3.下方列表的題型、題幹、難易度、答案為必填。題目選項和答案全部用英文大寫字母，是非題的答案用A,B表示，A是正確，B是錯誤。\n4.多選題答案多於一個時，答案之間用“,”(英文逗號)分隔。\n5.如果題幹或者選項中包含圖片，圖片用“@@1531106595775.jpg@@”。\n6.同一份試卷的圖片跟 Excel需放置於同一資料夾內。"],["請根據上方的規則進行填寫。"],["題型*","題幹*","難易度*","答案*","正確答案解釋"].concat(c()(e.map(function(t){return"選項-"+t})))].concat(i);return console.log(t),t}}},a=(n(91),n(15)),n=n(93),a=Object(a.a)(o,r,[],!1,null,"1de0163e",null);"function"==typeof n.default&&Object(n.default)(a),a.options.__file="src/components/ControllerPanel/ControllerPanel.vue",e.default=a.exports}}]);
//# sourceMappingURL=ControllerPanel.js.map